# portforward postgres from the cluster to use in localhost dev/testing
```
k port-forward -n tasks svc/tasks-postgres-master

# get the password from a secret generated by postgres operator:
# kubectl get secret app-user.tasks-postgres.credentials.postgresql.acid.zalan.do -n tasks -o 'jsonpath={.data.password}' | base64 -d

export POSTGRES_CONNECTION="host=localhost port=5432 user=app-user dbname=tasks password=<password> sslmode=disable"

# connect with psql:
psql -h localhost -p 5432 -U app-user -d tasks

# install dependencies:
go get .

# build
go build

# build canary
cd canary
go build

# run
./leet
```

### TODO:
1. Need to get canary working (it doesn't like the self-signed certs)
2. Integration tests just set up a local server, and call the canary client on it, and verify no panics
3. Canary runs every 30s and exports prometheus metrics on port 9000
4. Need to get tasks by id
5. Need to get a notion of "users/accounts" and have the canary account only see its own data and clean up after itself
